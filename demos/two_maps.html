<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns='http://www.w3.org/1999/xhtml'>
  <head>
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type' />
    <title>GeoCommons Synchronized Mapping</title>
    <script src="../src/f1_maker_map.js" type="text/javascript"></script>
    <link href="example.css" media="all" rel="stylesheet" type="text/css" />

    <script type='text/javascript'>
      Maker.maker_host='http://maker.recovery.geocommons.com';
      Maker.finder_host='http://finder.recovery.geocommons.com';
      Maker.core_host='http://recovery.geocommons.com';
    </script>
  </head>

  <body>
    <div id='header'>
        <div id="logo">Acme Incorporated</div>
        <a href="javascript:sync()" class="button">Synchronize<em>!</em></a>
        <p>Move the map on the left and click synchronize to match bounds.</p>
    </div>
    
    <div class="panes">
      <div class="atlas left"><div id='left_map' class='map'>
        <div class='loading'>
          Loading...
        </div>
      </div></div>

      <div class="atlas right"><div id='right_map' class='map'>
        <div class='loading'>
          Loading...
        </div>
      </div></div>
    </div>
    
    <script charset='utf-8' type='text/javascript'>
      new MakerMap('left_map',  6, { onLoaded: function(map) {
        left_map = map;  
        map.set_height_to_fit(100);
      }})
      new MakerMap('right_map', 5, { onLoaded: function(map) {
        right_map = map
        map.set_height_to_fit(100); 
      }})
      
      sync = function() {
        right_map.setBounds(left_map.getBounds());
        right_map.setZoom(left_map.getZoom());
      }
      
    </script>
  </body>

</html>
